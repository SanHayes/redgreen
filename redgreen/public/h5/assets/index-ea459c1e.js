import{c as z,d as K,r as B,u as ne,t as F,h as r,y as O,A as X,l as oe,e as M,n as se,p as ae,a as le,k as H,x as ie,ak as re,z as ce,ax as de,ay as j,az as ue,E as C,F as I,G as S,H as e,D as Y,am as me,a1 as pe,J as x,S as R,I as d,N as $,U,M as fe,K as ve,L as ge}from"./index-23f7f15c.js";import{g as we}from"./_commonjsHelpers-725317a4.js";import"./index-53c5e84d.js";import{F as Q}from"./index-20bf8e67.js";import{r as he,u as be,s as _e,b as ye,c as Ce}from"./user-92cb9047.js";import{c as ke,d as Be,_ as L,I as W}from"./_plugin-vue_export-helper-65965647.js";import{p as $e,a as xe,P as De,c as Pe}from"./index-ce495067.js";import{B as N}from"./index-663ced40.js";import{u as Se}from"./use-placeholder-de72143c.js";import{u as Te}from"./use-expose-c43790b1.js";import{a as T,s as Ee,c as Re}from"./function-call-6b3bc2d9.js";import"./index-03988ed8.js";import"./use-id-16e8e6de.js";import"./http-66deabba.js";import"./use-touch-07024e25.js";const[Z,q]=z("action-bar"),ee=Symbol(Z),Ue={placeholder:Boolean,safeAreaInsetBottom:F};var Ae=K({name:Z,props:Ue,setup(t,{slots:a}){const s=B(),u=Se(s,q),{linkChildren:c}=ne(ee);c();const f=()=>{var p;return r("div",{ref:s,class:[q(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[(p=a.default)==null?void 0:p.call(a)])};return()=>t.placeholder?u(f):f()}});const Ie=O(Ae),[Ve,Fe]=z("action-bar-button"),Ne=X({},he,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var ze=K({name:Ve,props:Ne,setup(t,{slots:a}){const s=be(),{parent:u,index:c}=oe(ee),f=M(()=>{if(u){const o=u.children[c.value-1];return!(o&&"isButton"in o)}}),p=M(()=>{if(u){const o=u.children[c.value+1];return!(o&&"isButton"in o)}});return Te({isButton:!0}),()=>{const{type:o,icon:v,text:m,color:i,loading:w,disabled:_}=t;return r(N,{class:Fe([o,{last:p.value,first:f.value}]),size:"large",type:o,icon:v,color:i,loading:w,disabled:_,onClick:s},{default:()=>[a.default?a.default():m]})}}});const G=O(ze),[Ke,k,A]=z("dialog"),Oe=X({},$e,{title:String,theme:String,width:se,message:[String,Function],callback:Function,allowHtml:Boolean,className:ae,transition:le("van-dialog-bounce"),messageAlign:String,closeOnPopstate:F,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:F,closeOnClickOverlay:Boolean}),He=[...xe,"transition","closeOnPopstate"];var Le=K({name:Ke,props:Oe,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:a,slots:s}){const u=B(),c=H({confirm:!1,cancel:!1}),f=n=>a("update:show",n),p=n=>{var h;f(!1),(h=t.callback)==null||h.call(t,n)},o=n=>()=>{t.show&&(a(n),t.beforeClose?(c[n]=!0,Pe(t.beforeClose,{args:[n],done(){p(n),c[n]=!1},canceled(){c[n]=!1}})):p(n))},v=o("cancel"),m=o("confirm"),i=de(n=>{var h,g;if(n.target!==((g=(h=u.value)==null?void 0:h.popupRef)==null?void 0:g.value))return;({Enter:t.showConfirmButton?m:j,Escape:t.showCancelButton?v:j})[n.key](),a("keydown",n)},["enter","esc"]),w=()=>{const n=s.title?s.title():t.title;if(n)return r("div",{class:k("header",{isolated:!t.message&&!s.default})},[n])},_=n=>{const{message:h,allowHtml:g,messageAlign:y}=t,P=k("message",{"has-title":n,[y]:y}),V=ue(h)?h():h;return g&&typeof V=="string"?r("div",{class:P,innerHTML:V},null):r("div",{class:P},[V])},D=()=>{if(s.default)return r("div",{class:k("content")},[s.default()]);const{title:n,message:h,allowHtml:g}=t;if(h){const y=!!(n||s.title);return r("div",{key:g?1:0,class:k("content",{isolated:!y})},[_(y)])}},b=()=>r("div",{class:[Be,k("footer")]},[t.showCancelButton&&r(N,{size:"large",text:t.cancelButtonText||A("cancel"),class:k("cancel"),style:{color:t.cancelButtonColor},loading:c.cancel,disabled:t.cancelButtonDisabled,onClick:v},null),t.showConfirmButton&&r(N,{size:"large",text:t.confirmButtonText||A("confirm"),class:[k("confirm"),{[ke]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:c.confirm,disabled:t.confirmButtonDisabled,onClick:m},null)]),E=()=>r(Ie,{class:k("footer")},{default:()=>[t.showCancelButton&&r(G,{type:"warning",text:t.cancelButtonText||A("cancel"),class:k("cancel"),color:t.cancelButtonColor,loading:c.cancel,disabled:t.cancelButtonDisabled,onClick:v},null),t.showConfirmButton&&r(G,{type:"danger",text:t.confirmButtonText||A("confirm"),class:k("confirm"),color:t.confirmButtonColor,loading:c.confirm,disabled:t.confirmButtonDisabled,onClick:m},null)]}),l=()=>s.footer?s.footer():t.theme==="round-button"?E():b();return()=>{const{width:n,title:h,theme:g,message:y,className:P}=t;return r(De,ie({ref:u,role:"dialog",class:[k([g]),P],style:{width:ce(n)},tabindex:0,"aria-labelledby":h||y,onKeydown:i,"onUpdate:show":f},re(t,He)),{default:()=>[w(),D(),l()]})}}});const te=O(Le);var Me=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var a=document.activeElement,s=[],u=0;u<t.rangeCount;u++)s.push(t.getRangeAt(u));switch(a.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":a.blur();break;default:a=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||s.forEach(function(c){t.addRange(c)}),a&&a.focus()}},je=Me,J={"text/plain":"Text","text/html":"Url",default:"Text"},qe="Copy to clipboard: #{key}, Enter";function Ge(t){var a=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,a)}function Je(t,a){var s,u,c,f,p,o,v=!1;a||(a={}),s=a.debug||!1;try{c=je(),f=document.createRange(),p=document.getSelection(),o=document.createElement("span"),o.textContent=t,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(i){if(i.stopPropagation(),a.format)if(i.preventDefault(),typeof i.clipboardData>"u"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var w=J[a.format]||J.default;window.clipboardData.setData(w,t)}else i.clipboardData.clearData(),i.clipboardData.setData(a.format,t);a.onCopy&&(i.preventDefault(),a.onCopy(i.clipboardData))}),document.body.appendChild(o),f.selectNodeContents(o),p.addRange(f);var m=document.execCommand("copy");if(!m)throw new Error("copy command was unsuccessful");v=!0}catch(i){s&&console.error("unable to copy using execCommand: ",i),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(a.format||"text",t),a.onCopy&&a.onCopy(window.clipboardData),v=!0}catch(w){s&&console.error("unable to copy using clipboardData: ",w),s&&console.error("falling back to prompt"),u=Ge("message"in a?a.message:qe),window.prompt(u,t)}}finally{p&&(typeof p.removeRange=="function"?p.removeRange(f):p.removeAllRanges()),o&&document.body.removeChild(o),c()}return v}var Xe=Je;const Ye=we(Xe);const Qe={class:"name-field"},We={__name:"Username",props:["username"],emits:["update"],setup(t,{expose:a,emit:s}){const u=t;console.log("props",u);const c=B(!1),f=()=>{c.value=!0},p=B(u.username);console.log(p.value);const o=()=>{_e({nickname:p.value}).then(v=>{(v==null?void 0:v.code)===1&&(T({message:v.msg}),s("update"))})};return a({showForm:f}),(v,m)=>{const i=Q,w=te;return C(),I(w,{show:c.value,"onUpdate:show":m[1]||(m[1]=_=>c.value=_),title:v.$t("mine.username"),"show-cancel-button":"","confirm-button-text":v.$t("win.confirm"),"cancel-button-text":v.$t("win.cancel"),"confirm-button-color":"#11a77c",onConfirm:o},{default:S(()=>[e("div",Qe,[r(i,{modelValue:p.value,"onUpdate:modelValue":m[0]||(m[0]=_=>p.value=_)},null,8,["modelValue"])])]),_:1},8,["show","title","confirm-button-text","cancel-button-text"])}}},Ze=L(We,[["__scopeId","data-v-2ee9c431"]]);const et={class:"name-field"},tt={class:"name-field"},nt={class:"name-field"},ot={class:"name-field"},st={__name:"Password",props:["username"],emits:["update"],setup(t,{expose:a,emit:s}){const u=t,{t:c}=Y();console.log("props",u);const f=B(!1),p=()=>{f.value=!0},o=H({password:"",newpassword:"",newpassword2:""}),v=()=>{if(!o.password){T({message:c("mine.oldpassword")});return}if(!o.newpassword||o.newpassword!==o.newpassword2){T({message:c("mine.newpassword")});return}ye(o).then(m=>m.code!==0?(T(m.msg),!0):!1)};return a({showForm:p}),(m,i)=>{const w=Q,_=W,D=te;return C(),I(D,{show:f.value,"onUpdate:show":i[4]||(i[4]=b=>f.value=b),title:m.$t("mine.password"),"show-cancel-button":"","confirm-button-text":m.$t("win.confirm"),"cancel-button-text":m.$t("win.cancel"),"confirm-button-color":"#11a77c",onConfirm:v},{default:S(()=>[e("div",et,[r(w,{modelValue:u.username,"onUpdate:modelValue":i[0]||(i[0]=b=>u.username=b),readonly:""},null,8,["modelValue"])]),e("div",tt,[r(w,{modelValue:o.password,"onUpdate:modelValue":i[1]||(i[1]=b=>o.password=b),type:"password",placeholder:m.$t("mine.oldpassword")},{"left-icon":S(()=>[r(_,{"class-prefix":"iconfont",name:"icon-password1"})]),_:1},8,["modelValue","placeholder"])]),e("div",nt,[r(w,{modelValue:o.newpassword,"onUpdate:modelValue":i[2]||(i[2]=b=>o.newpassword=b),type:"password",placeholder:m.$t("mine.newpassword")},{"left-icon":S(()=>[r(_,{"class-prefix":"iconfont",name:"icon-password1"})]),_:1},8,["modelValue","placeholder"])]),e("div",ot,[r(w,{modelValue:o.newpassword2,"onUpdate:modelValue":i[3]||(i[3]=b=>o.newpassword2=b),type:"password",placeholder:m.$t("mine.newpassword")},{"left-icon":S(()=>[r(_,{"class-prefix":"iconfont",name:"icon-password1"})]),_:1},8,["modelValue","placeholder"])])]),_:1},8,["show","title","confirm-button-text","cancel-button-text"])}}},at=L(st,[["__scopeId","data-v-5a282643"]]),lt="/h5/assets/img_avatar100-038e8902.png",it="/h5/assets/recharge-b6d3123c.png",rt="/h5/assets/withdrawal-cbbd6375.png",ct="/h5/assets/transactions-5fd58c58.png";const dt={class:"container-mine"},ut={class:"header bg"},mt={class:"info"},pt={class:"pic"},ft=["src"],vt={class:"name"},gt={key:0},wt={class:"right"},ht={class:"pass"},bt={class:"bottn bg"},_t=["src"],yt=["src"],Ct=["src"],kt={class:"email bg"},Bt={class:"wallet-addr flex-between"},$t={class:"promotion bg",style:{padding:"20px 0px"}},xt={class:"promotionheader"},Dt={class:"leve"},Pt={class:"promotion-content-bom-wrap",style:{padding:"15px 10px"}},St={class:"promotion-level-wrap"},Tt={class:"promotion-level-nav"},Et=["onClick"],Rt={class:"people"},Ut={key:0,style:{color:"#0CC892"}},At={key:1,style:{color:"#0CC892"}},It={key:0,style:{color:"#0CC892"}},Vt={key:1,style:{color:"#0CC892"}},Ft={class:"email bg",style:{"margin-bottom":"0px","padding-bottom":"0px"}},Nt={class:"wallet-addr flex-between"},zt={key:0,class:"email bg",style:{"margin-bottom":"0px","padding-bottom":"0px"}},Kt={class:"wallet-addr flex-between"},Ot={class:"btton"},Ht={__name:"index",setup(t){const{t:a}=Y(),s=B({}),u=me(),c=B(0),f=async l=>{Ye(l,{debug:!0,message:"Press #{key} to copy"}),T({message:a("mine.copy"),icon:"success"})},p=["level1","level2"],o=(l,n)=>{this.isActive.value=n},v=()=>{},m=()=>{},i=H({}),w=B(""),_=()=>{localStorage.removeItem("token"),u.push("/login")};pe(()=>{E()});const D=B(),b=B(),E=()=>{Ee(),Ce().then(l=>{s.value=l,l&&(w.value=window.location.href+"?invite_code="+l.verification)}).finally(()=>{Re()})};return(l,n)=>{const h=W;return C(),x("div",dt,[e("div",ut,[e("div",mt,[e("div",pt,[e("img",{src:R(lt)},null,8,ft)]),e("div",vt,[e("p",null,[e("span",null,d(l.$t("mine.user")),1),$(" "+d(s.value.nickname),1)]),e("p",null,[e("span",null,[e("span",null,d(l.$t("mine.id")),1)]),$(" "+d(s.value.id),1)]),s.value.phone?(C(),x("p",gt,[e("span",null,d(l.$t("login.phone")),1),$(" "+d(s.value.phone),1)])):U("",!0),e("p",null,[e("span",null,d(l.$t("mine.email")),1),$(" "+d(s.value.email),1)])]),e("div",wt,[e("div",{class:"right_top",onClick:n[0]||(n[0]=g=>D.value.showForm())},[e("div",null,[r(h,{size:"20",name:"icon-biaodanbianji","class-prefix":"iconfont"})])]),e("div",{class:"right_bottom",onClick:n[1]||(n[1]=g=>f(s.value.id))},[e("div",null,[r(h,{size:"20",name:"icon-copy","class-prefix":"iconfont"})])])])]),e("p",ht,[e("span",{onClick:n[2]||(n[2]=g=>b.value.showForm())},d(l.$t("mine.password")),1)])]),e("div",bt,[e("div",{onClick:n[3]||(n[3]=g=>l.$router.push("/recharge"))},[e("img",{src:R(it)},null,8,_t),e("span",null,d(l.$t("mine.recharge")),1)]),e("div",{onClick:n[4]||(n[4]=g=>l.$router.push("/withdrawal"))},[e("img",{src:R(rt)},null,8,yt),e("span",null,d(l.$t("mine.withdrawal")),1)]),e("div",{onClick:n[5]||(n[5]=g=>l.$router.push("/bank"))},[e("img",{src:R(ct)},null,8,Ct),e("span",null,d(l.$t("mine.card")),1)])]),e("div",kt,[e("p",null,[$(d(l.$t("mine.customer"))+" ",1),e("span",{onClick:n[6]||(n[6]=(...g)=>l.useinstruction&&l.useinstruction(...g))},d(l.$t("next.use")),1)]),e("div",Bt,[$(" abgameserve@gmail.com "),r(h,{size:"20",name:"icon-copy","class-prefix":"iconfont"})])]),e("div",$t,[e("div",xt,[e("div",null,[$(d(l.$t("mine.promotion"))+" ",1),e("span",{class:"question",onClick:n[7]||(n[7]=g=>l.$router.push("illustrate"))},"?")]),e("span",{onClick:n[8]||(n[8]=g=>l.$router.push("/report"))},"...")]),e("div",Dt,[e("div",Pt,[e("div",St,[e("div",Tt,[(C(),x(fe,null,ve(p,(g,y)=>e("div",{onClick:P=>o(g,y),class:ge([{"level-text-active":c.value==y},"level-text"])},d(l.$t("mine.level"))+" "+d(y+1),11,Et)),64))])])]),e("div",Rt,[e("div",{class:"left",onClick:v},[e("p",null,d(l.$t("mine.people")),1),i.users?(C(),x("span",Ut,d(i.users),1)):(C(),x("span",At,"0"))]),e("div",{class:"left",onClick:m},[e("p",null,d(l.$t("mine.contribution")),1),i.contribution?(C(),x("span",It,d(i.contribution),1)):(C(),x("span",Vt,"0"))])])]),e("div",Ft,[e("p",null,d(l.$t("mine.code")),1),e("div",Nt,[$(d(s.value.verification)+" ",1),r(h,{size:"20",name:"icon-copy","class-prefix":"iconfont",onClick:n[9]||(n[9]=g=>f(s.value.verification))})])]),w.value?(C(),x("div",zt,[e("p",null,d(l.$t("mine.link")),1),e("div",Kt,[$(d(w.value)+" ",1),r(h,{size:"20",name:"icon-copy","class-prefix":"iconfont",onClick:n[10]||(n[10]=g=>f(w.value))})])])):U("",!0)]),e("div",Ot,[e("div",{class:"submit-button",onClick:_},[e("p",null,d(l.$t("mine.logout")),1)])]),s.value.nickname?(C(),I(Ze,{key:0,ref_key:"nameRef",ref:D,onUpdate:E,username:s.value.nickname},null,8,["username"])):U("",!0),s.value.email?(C(),I(at,{key:1,ref_key:"passRef",ref:b,username:s.value.email},null,8,["username"])):U("",!0)])}}},sn=L(Ht,[["__scopeId","data-v-c9335f59"]]);export{sn as default};
