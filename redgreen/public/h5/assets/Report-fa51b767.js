import{k as h,E as l,J as c,h as r,H as e,I as o,G as g,M as _,K as u,aV as y}from"./index-a268cf0b.js";import{L as v}from"./index-191c4742.js";import{N as L}from"./index-802de8b7.js";import{_ as k}from"./_plugin-vue_export-helper-696b8212.js";import"./use-expose-2bc2fd26.js";import"./index-6b9ce884.js";import"./use-placeholder-b6f2a168.js";const w={class:"content"},x={class:"list-header flex"},$={class:"time"},b={class:"money"},B={class:"money"},N={class:"list-item flex"},P={class:"time"},R={class:"money"},V={class:"money"},C={__name:"Report",setup(E){const d=()=>history.back(),s=h({list:[],loading:!1,finished:!1,currentPage:1}),m=async()=>{try{const t=await y({page:s.currentPage,limit:20}),a=(t==null?void 0:t.list)||[];s.list=[...s.list,...a];const i=s.list.length;console.log("total",i),console.log("count",t.count),i>=t.count&&(s.finished=!0)}catch(t){console.log(" catch",t)}s.loading=!1},p=()=>{console.log("load more"),m(),s.currentPage+=1};return(t,a)=>{const i=L,f=v;return l(),c(_,null,[r(i,{title:t.$t("next.report"),"left-arrow":"",onClickLeft:d},null,8,["title"]),e("div",w,[e("div",x,[e("span",$,o(t.$t("win.time")),1),e("span",b,o(t.$t("win.amount")),1),e("span",B,o(t.$t("home.balance")),1)]),r(f,{loading:s.loading,"onUpdate:loading":a[0]||(a[0]=n=>s.loading=n),finished:s.finished,"finished-text":t.$t("nomore"),onLoad:p},{default:g(()=>[(l(!0),c(_,null,u(s.list,n=>(l(),c("div",N,[e("span",P,o(n.createtime),1),e("span",R,o(n.money),1),e("span",V,o(n.after),1)]))),256))]),_:1},8,["loading","finished","finished-text"])])],64)}}},M=k(C,[["__scopeId","data-v-e7fa5779"]]);export{M as default};
