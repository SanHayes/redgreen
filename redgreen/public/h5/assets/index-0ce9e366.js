import{c as O,d as H,r as B,u as se,t as z,h as r,y as L,A as Q,l as ae,e as q,n as le,p as ie,a as ce,k as M,x as re,ag as de,z as ue,ah as me,ai as G,aj as pe,E as k,F as A,G as E,H as e,D as W,a1 as fe,J as D,S as T,I as c,N as x,U as N,M as ve,K as ge,L as we}from"./index-908feb2e.js";import{g as _e}from"./_commonjsHelpers-725317a4.js";import{r as he,a as be,p as ye,b as Ce,P as ke,c as Be}from"./index-13600634.js";import{F as Z}from"./index-226b82a2.js";import{s as $e,a as xe,u as De}from"./user-e8be04ce.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{B as K}from"./index-b3e4cb7e.js";import{u as Pe}from"./use-placeholder-66d0a70b.js";import{u as Se}from"./use-touch-c498a7d2.js";import{c as Te,d as Ee,I as ee}from"./index-34404773.js";import{a as R,s as Re,c as Ue}from"./function-call-7beca3ef.js";import"./index-b23fa021.js";import"./http-96701e1c.js";const[ne,J]=O("action-bar"),te=Symbol(ne),Ae={placeholder:Boolean,safeAreaInsetBottom:z};var Ie=H({name:ne,props:Ae,setup(n,{slots:s}){const o=B(),u=Pe(o,J),{linkChildren:d}=se(te);d();const v=()=>{var p;return r("div",{ref:o,class:[J(),{"van-safe-area-bottom":n.safeAreaInsetBottom}]},[(p=s.default)==null?void 0:p.call(s)])};return()=>n.placeholder?u(v):v()}});const Ve=L(Ie),[Fe,Ne]=O("action-bar-button"),ze=Q({},he,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ke=H({name:Fe,props:ze,setup(n,{slots:s}){const o=be(),{parent:u,index:d}=ae(te),v=q(()=>{if(u){const t=u.children[d.value-1];return!(t&&"isButton"in t)}}),p=q(()=>{if(u){const t=u.children[d.value+1];return!(t&&"isButton"in t)}});return Se({isButton:!0}),()=>{const{type:t,icon:f,text:m,color:l,loading:w,disabled:b}=n;return r(K,{class:Ne([t,{last:p.value,first:v.value}]),size:"large",type:t,icon:f,color:l,loading:w,disabled:b,onClick:o},{default:()=>[s.default?s.default():m]})}}});const X=L(Ke),[Oe,C,U]=O("dialog"),He=Q({},ye,{title:String,theme:String,width:le,message:[String,Function],callback:Function,allowHtml:Boolean,className:ie,transition:ce("van-dialog-bounce"),messageAlign:String,closeOnPopstate:z,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:z,closeOnClickOverlay:Boolean}),Le=[...Ce,"transition","closeOnPopstate"];var Me=H({name:Oe,props:He,emits:["confirm","cancel","keydown","update:show"],setup(n,{emit:s,slots:o}){const u=B(),d=M({confirm:!1,cancel:!1}),v=i=>s("update:show",i),p=i=>{var h;v(!1),(h=n.callback)==null||h.call(n,i)},t=i=>()=>{n.show&&(s(i),n.beforeClose?(d[i]=!0,Be(n.beforeClose,{args:[i],done(){p(i),d[i]=!1},canceled(){d[i]=!1}})):p(i))},f=t("cancel"),m=t("confirm"),l=me(i=>{var h,y;if(i.target!==((y=(h=u.value)==null?void 0:h.popupRef)==null?void 0:y.value))return;({Enter:n.showConfirmButton?m:G,Escape:n.showCancelButton?f:G})[i.key](),s("keydown",i)},["enter","esc"]),w=()=>{const i=o.title?o.title():n.title;if(i)return r("div",{class:C("header",{isolated:!n.message&&!o.default})},[i])},b=i=>{const{message:h,allowHtml:y,messageAlign:a}=n,g=C("message",{"has-title":i,[a]:a}),$=pe(h)?h():h;return y&&typeof $=="string"?r("div",{class:g,innerHTML:$},null):r("div",{class:g},[$])},S=()=>{if(o.default)return r("div",{class:C("content")},[o.default()]);const{title:i,message:h,allowHtml:y}=n;if(h){const a=!!(i||o.title);return r("div",{key:y?1:0,class:C("content",{isolated:!a})},[b(a)])}},_=()=>r("div",{class:[Ee,C("footer")]},[n.showCancelButton&&r(K,{size:"large",text:n.cancelButtonText||U("cancel"),class:C("cancel"),style:{color:n.cancelButtonColor},loading:d.cancel,disabled:n.cancelButtonDisabled,onClick:f},null),n.showConfirmButton&&r(K,{size:"large",text:n.confirmButtonText||U("confirm"),class:[C("confirm"),{[Te]:n.showCancelButton}],style:{color:n.confirmButtonColor},loading:d.confirm,disabled:n.confirmButtonDisabled,onClick:m},null)]),I=()=>r(Ve,{class:C("footer")},{default:()=>[n.showCancelButton&&r(X,{type:"warning",text:n.cancelButtonText||U("cancel"),class:C("cancel"),color:n.cancelButtonColor,loading:d.cancel,disabled:n.cancelButtonDisabled,onClick:f},null),n.showConfirmButton&&r(X,{type:"danger",text:n.confirmButtonText||U("confirm"),class:C("confirm"),color:n.confirmButtonColor,loading:d.confirm,disabled:n.confirmButtonDisabled,onClick:m},null)]}),V=()=>o.footer?o.footer():n.theme==="round-button"?I():_();return()=>{const{width:i,title:h,theme:y,message:a,className:g}=n;return r(ke,re({ref:u,role:"dialog",class:[C([y]),g],style:{width:ue(i)},tabindex:0,"aria-labelledby":h||a,onKeydown:l,"onUpdate:show":v},de(n,Le)),{default:()=>[w(),S(),V()]})}}});const oe=L(Me);var je=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var s=document.activeElement,o=[],u=0;u<n.rangeCount;u++)o.push(n.getRangeAt(u));switch(s.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":s.blur();break;default:s=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||o.forEach(function(d){n.addRange(d)}),s&&s.focus()}},qe=je,Y={"text/plain":"Text","text/html":"Url",default:"Text"},Ge="Copy to clipboard: #{key}, Enter";function Je(n){var s=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,s)}function Xe(n,s){var o,u,d,v,p,t,f=!1;s||(s={}),o=s.debug||!1;try{d=qe(),v=document.createRange(),p=document.getSelection(),t=document.createElement("span"),t.textContent=n,t.ariaHidden="true",t.style.all="unset",t.style.position="fixed",t.style.top=0,t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="pre",t.style.webkitUserSelect="text",t.style.MozUserSelect="text",t.style.msUserSelect="text",t.style.userSelect="text",t.addEventListener("copy",function(l){if(l.stopPropagation(),s.format)if(l.preventDefault(),typeof l.clipboardData>"u"){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var w=Y[s.format]||Y.default;window.clipboardData.setData(w,n)}else l.clipboardData.clearData(),l.clipboardData.setData(s.format,n);s.onCopy&&(l.preventDefault(),s.onCopy(l.clipboardData))}),document.body.appendChild(t),v.selectNodeContents(t),p.addRange(v);var m=document.execCommand("copy");if(!m)throw new Error("copy command was unsuccessful");f=!0}catch(l){o&&console.error("unable to copy using execCommand: ",l),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(s.format||"text",n),s.onCopy&&s.onCopy(window.clipboardData),f=!0}catch(w){o&&console.error("unable to copy using clipboardData: ",w),o&&console.error("falling back to prompt"),u=Je("message"in s?s.message:Ge),window.prompt(u,n)}}finally{p&&(typeof p.removeRange=="function"?p.removeRange(v):p.removeAllRanges()),t&&document.body.removeChild(t),d()}return f}var Ye=Xe;const Qe=_e(Ye);const We={class:"name-field"},Ze={__name:"Username",props:["username"],emits:["update"],setup(n,{expose:s,emit:o}){const u=n;console.log("props",u);const d=B(!1),v=()=>{d.value=!0},p=B(u.username);console.log(p.value);const t=()=>{$e({nickname:p.value}).then(f=>{(f==null?void 0:f.code)===1&&(R({message:f.msg}),o("update"))})};return s({showForm:v}),(f,m)=>{const l=Z,w=oe;return k(),A(w,{show:d.value,"onUpdate:show":m[1]||(m[1]=b=>d.value=b),title:f.$t("mine.username"),"show-cancel-button":"","confirm-button-text":f.$t("win.confirm"),"cancel-button-text":f.$t("win.cancel"),"confirm-button-color":"#11a77c",onConfirm:t},{default:E(()=>[e("div",We,[r(l,{modelValue:p.value,"onUpdate:modelValue":m[0]||(m[0]=b=>p.value=b)},null,8,["modelValue"])])]),_:1},8,["show","title","confirm-button-text","cancel-button-text"])}}},en=j(Ze,[["__scopeId","data-v-2ee9c431"]]);const nn={class:"name-field"},tn={class:"name-field"},on={class:"name-field"},sn={class:"name-field"},an={__name:"Password",props:["username"],emits:["update"],setup(n,{expose:s,emit:o}){const u=n,{t:d}=W();console.log("props",u);const v=B(!1),p=()=>{v.value=!0},t=M({password:"",newpassword:"",newpassword2:""}),f=()=>{if(!t.password){R({message:d("mine.oldpassword")});return}if(!t.newpassword||t.newpassword!==t.newpassword2){R({message:d("mine.newpassword")});return}xe(t).then(m=>m.code!==0?(R(m.msg),!0):!1)};return s({showForm:p}),(m,l)=>{const w=Z,b=ee,S=oe;return k(),A(S,{show:v.value,"onUpdate:show":l[4]||(l[4]=_=>v.value=_),title:m.$t("mine.password"),"show-cancel-button":"","confirm-button-text":m.$t("win.confirm"),"cancel-button-text":m.$t("win.cancel"),"confirm-button-color":"#11a77c",onConfirm:f},{default:E(()=>[e("div",nn,[r(w,{modelValue:u.username,"onUpdate:modelValue":l[0]||(l[0]=_=>u.username=_),readonly:""},null,8,["modelValue"])]),e("div",tn,[r(w,{modelValue:t.password,"onUpdate:modelValue":l[1]||(l[1]=_=>t.password=_),placeholder:m.$t("mine.oldpassword")},{"left-icon":E(()=>[r(b,{"class-prefix":"iconfont",name:"icon-password1"})]),_:1},8,["modelValue","placeholder"])]),e("div",on,[r(w,{modelValue:t.newpassword,"onUpdate:modelValue":l[2]||(l[2]=_=>t.newpassword=_),placeholder:m.$t("mine.newpassword")},{"left-icon":E(()=>[r(b,{"class-prefix":"iconfont",name:"icon-password1"})]),_:1},8,["modelValue","placeholder"])]),e("div",sn,[r(w,{modelValue:t.newpassword2,"onUpdate:modelValue":l[3]||(l[3]=_=>t.newpassword2=_),placeholder:m.$t("mine.newpassword")},{"left-icon":E(()=>[r(b,{"class-prefix":"iconfont",name:"icon-password1"})]),_:1},8,["modelValue","placeholder"])])]),_:1},8,["show","title","confirm-button-text","cancel-button-text"])}}},ln=j(an,[["__scopeId","data-v-9f6e6c05"]]),cn="/h5/assets/img_avatar100-038e8902.png",rn="/h5/assets/recharge-b6d3123c.png",dn="/h5/assets/bankcard-a863c310.png",un="/h5/assets/withdrawal-cbbd6375.png",mn="/h5/assets/transactions-5fd58c58.png";const pn={class:"container-mine"},fn={class:"header bg"},vn={class:"info"},gn={class:"pic"},wn=["src"],_n={class:"name"},hn={key:0},bn={class:"right"},yn={class:"pass"},Cn={class:"bottn bg"},kn=["src"],Bn=["src"],$n=["src"],xn=["src"],Dn={class:"email bg"},Pn={class:"wallet-addr flex-between"},Sn={class:"promotion bg",style:{padding:"20px 0px"}},Tn={class:"promotionheader"},En={class:"leve"},Rn={class:"promotion-content-bom-wrap",style:{padding:"15px 10px"}},Un={class:"promotion-level-wrap"},An={class:"promotion-level-nav"},In=["onClick"],Vn={class:"people"},Fn={key:0,style:{color:"#0CC892"}},Nn={key:1,style:{color:"#0CC892"}},zn={key:0,style:{color:"#0CC892"}},Kn={key:1,style:{color:"#0CC892"}},On={class:"email bg",style:{"margin-bottom":"0px","padding-bottom":"0px"}},Hn={class:"wallet-addr flex-between"},Ln={class:"email bg",style:{"margin-bottom":"0px","padding-bottom":"0px"}},Mn={class:"wallet-addr flex-between"},jn={class:"btton"},qn={__name:"index",setup(n){const{t:s}=W(),o=B({}),u=B(0),d=async a=>{Qe(a,{debug:!0,message:"Press #{key} to copy"}),R({message:s("mine.copy"),icon:"success"})},v=()=>{},p=()=>{},t=()=>{},f=()=>{},m=()=>{},l=["level1","level2"],w=(a,g)=>{this.isActive.value=g},b=()=>{},S=()=>{},_=M({}),I=B(""),V=()=>{};fe(()=>{y()});const i=B(),h=B(),y=()=>{Re(),De().then(a=>{o.value=a}).finally(()=>{Ue()})};return(a,g)=>{const $=ee;return k(),D("div",pn,[e("div",fn,[e("div",vn,[e("div",gn,[e("img",{src:T(cn)},null,8,wn)]),e("div",_n,[e("p",null,[e("span",null,c(a.$t("mine.user")),1),x(" "+c(o.value.nickname),1)]),e("p",null,[e("span",null,[e("span",null,c(a.$t("mine.id")),1)]),x(" "+c(o.value.id),1)]),o.value.phone?(k(),D("p",hn,[e("span",null,c(a.$t("login.phone")),1),x(" "+c(o.value.phone),1)])):N("",!0),e("p",null,[e("span",null,c(a.$t("mine.email")),1),x(" "+c(o.value.email),1)])]),e("div",bn,[e("div",{class:"right_top",onClick:g[0]||(g[0]=P=>i.value.showForm())},[e("div",null,[r($,{size:"20",name:"icon-biaodanbianji","class-prefix":"iconfont"})])]),e("div",{class:"right_bottom",onClick:g[1]||(g[1]=P=>d(o.value.id))},[e("div",null,[r($,{size:"20",name:"icon-copy","class-prefix":"iconfont"})])])])]),e("p",yn,[e("span",{onClick:g[2]||(g[2]=P=>h.value.showForm())},c(a.$t("mine.password")),1)])]),e("div",Cn,[e("div",{onClick:g[3]||(g[3]=P=>a.$router.push("/recharge"))},[e("img",{src:T(rn)},null,8,kn),e("span",null,c(a.$t("mine.recharge")),1)]),e("div",{onClick:g[4]||(g[4]=P=>a.$router.push("/withdrawal"))},[e("img",{src:T(un)},null,8,Bn),e("span",null,c(a.$t("mine.withdrawal")),1)]),e("div",{onClick:v},[e("img",{src:T(mn)},null,8,$n),e("span",null,c(a.$t("mine.fund")),1)]),e("div",{onClick:p},[e("img",{src:T(dn)},null,8,xn),e("span",null,c(a.$t("mine.address")),1)])]),e("div",Dn,[e("p",null,[x(c(a.$t("mine.customer"))+" ",1),e("span",{onClick:t},c(a.$t("next.use")),1)]),e("div",Pn,[x(" abgameserve@gmail.com "),r($,{size:"20",name:"icon-copy","class-prefix":"iconfont"})])]),e("div",Sn,[e("div",Tn,[e("div",null,[x(c(a.$t("mine.promotion"))+" ",1),e("span",{class:"question",onClick:f},"?")]),e("span",{onClick:m},"...")]),e("div",En,[e("div",Rn,[e("div",Un,[e("div",An,[(k(),D(ve,null,ge(l,(P,F)=>e("div",{onClick:Gn=>w(P,F),class:we([{"level-text-active":u.value==F},"level-text"])},c(a.$t("mine.level"))+" "+c(F+1),11,In)),64))])])]),e("div",Vn,[e("div",{class:"left",onClick:b},[e("p",null,c(a.$t("mine.people")),1),_.users?(k(),D("span",Fn,c(_.users),1)):(k(),D("span",Nn,"0"))]),e("div",{class:"left",onClick:S},[e("p",null,c(a.$t("mine.contribution")),1),_.contribution?(k(),D("span",zn,c(_.contribution),1)):(k(),D("span",Kn,"0"))])])]),e("div",On,[e("p",null,c(a.$t("mine.code")),1),e("div",Hn,[x(c(o.value.invite_code)+" ",1),r($,{size:"20",name:"icon-copy","class-prefix":"iconfont"})])]),e("div",Ln,[e("p",null,c(a.$t("mine.link")),1),e("div",Mn,[x(c(I.value)+" ",1),r($,{size:"20",name:"icon-copy","class-prefix":"iconfont"})])])]),e("div",jn,[e("div",{class:"submit-button",onClick:V},[e("p",null,c(a.$t("mine.logout")),1)])]),o.value.nickname?(k(),A(en,{key:0,ref_key:"nameRef",ref:i,onUpdate:y,username:o.value.nickname},null,8,["username"])):N("",!0),o.value.email?(k(),A(ln,{key:1,ref_key:"passRef",ref:h,username:o.value.email},null,8,["username"])):N("",!0)])}}},it=j(qn,[["__scopeId","data-v-ecc391e3"]]);export{it as default};
