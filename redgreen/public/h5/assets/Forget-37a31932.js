import{D as I,am as N,r as i,k as U,E as p,J as w,h as t,H as a,F as k,I as r,V as S,G as h,N as g,M as z,aK as A,aI as D}from"./index-52dcdc50.js";import{C as E}from"./index-e94a9c4e.js";import"./index-88ddf8dc.js";import"./index-d1a413f5.js";import{F as M}from"./index-c0c37460.js";import{N as T}from"./index-fa99145a.js";import{A as j}from"./AreaSelect-20274278.js";import{_ as q,I as G}from"./_plugin-vue_export-helper-345f0f70.js";import{b as d}from"./function-call-e996e8e5.js";import{B as H}from"./index-71da4326.js";import"./use-expose-e45f4cc7.js";import"./use-placeholder-340bba9f.js";import"./index-9f39e4e0.js";import"./index-336ee090.js";import"./use-touch-249ef53c.js";import"./index-0da5020b.js";const J={class:"container"},K={class:"field-wrap"},L={class:"value"},R={class:"field-wrap"},x={class:"register-btn"},O={class:"links"},P={class:"login"},Q={__name:"Forget",setup(W){const{t:m}=I(),b=N(),y=()=>history.back(),u=i(0),n=U({username:"",password:"",area_code:"1"}),c=i({areaCodes:null,dialCode:"1",iso2:"us",name:"United States",priority:0}),v=i(!1),V=()=>{v.value=!0},f=i(!0),C=()=>{if(!n.username){d({message:m("login.inppass")});return}if(!n.password){d({message:m("mine.newpassword")});return}if(!f.value){d({message:m("login.policy")});return}const o={username:n.username,newpassword:n.password};A(o).then(e=>{if(e.code===0){d({message:e==null?void 0:e.msg});return}localStorage.removeItem("token"),b.push("/login")})};return(o,e)=>{const $=T,l=G,_=M,B=H,F=E;return p(),w(z,null,[t($,{title:o.$t("login.forgetblack"),"left-arrow":"",onClickLeft:y},null,8,["title"]),a("div",J,[a("div",K,[u.value===0?(p(),k(l,{key:0,size:"20","class-prefix":"iconfont",name:"icon-youjian"})):(p(),k(l,{key:1,size:"20","class-prefix":"iconfont",name:"icon-mobile"})),u.value===1?(p(),w("div",{key:2,class:"area",onClick:V},[a("div",L,"+"+r(c.value.dialCode),1),t(l,{name:"arrow-down"})])):S("",!0),t(_,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=s=>n.username=s),placeholder:u.value===0?o.$t("login.inppass"):o.$t("login.phonenum")},null,8,["modelValue","placeholder"])]),a("div",R,[t(l,{size:"20","class-prefix":"iconfont",name:"icon-password"}),t(_,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=s=>n.password=s),placeholder:o.$t("mine.newpassword")},null,8,["modelValue","placeholder"])]),a("div",x,[t(B,{type:"primary",block:"",round:"",onClick:C},{default:h(()=>[g(r(o.$t("login.Continue")),1)]),_:1})]),a("div",O,[a("div",P,[g(r(o.$t("login.account"))+" ",1),a("span",{onClick:e[2]||(e[2]=s=>o.$router.push("/login"))},r(o.$t("login.log")),1)]),t(F,{class:"remember",shape:"square",modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=s=>f.value=s)},{default:h(()=>[g(r(o.$t("login.agree"))+" ",1),a("span",{onClick:e[3]||(e[3]=D(s=>o.$router.push("/policy"),["stop"]))},r(o.$t("login.policy")),1)]),_:1},8,["modelValue"])])]),t(j,{show:v.value,"onUpdate:show":e[5]||(e[5]=s=>v.value=s),code:c.value,"onUpdate:code":e[6]||(e[6]=s=>c.value=s)},null,8,["show","code"])],64)}}},ce=q(Q,[["__scopeId","data-v-04a2f3b7"]]);export{ce as default};
